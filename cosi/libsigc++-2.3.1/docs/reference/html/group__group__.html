<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libsigc++: group()</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libsigc++
   &#160;<span id="projectnumber">2.3.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">group()</div> </div>
<div class="ingroups"><a class="el" href="group__adaptors.html">Adaptors</a> &#124; <a class="el" href="group__lambdas.html">Lambdas</a></div></div><!--header-->
<div class="contents">

<p>sigc::group() alters an arbitrary functor by rebuilding its arguments from one or more lambda expressions. <a href="#details">More...</a></p>
<p>sigc::group() alters an arbitrary functor by rebuilding its arguments from one or more lambda expressions. </p>
<p>For each parameter that should be passed to the wrapped functor, one lambda expression has to be passed into group(). Lambda selectors can be used as placeholders for the arguments passed into the new functor. Arguments that don't have a placeholder in one of the lambda expressions are dropped.</p>
<p>If you have a C++11 compiler, a C++11 lambda expression and/or <a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind()</a> is often a good alternative to sigc::group(). Such alternatives are shown in the following examples, marked with the comment <code>//C++11</code>.</p>
<dl class="section user"><dt>Examples:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">void</span> foo(<span class="keywordtype">int</span>, <span class="keywordtype">int</span>);</div>
<div class="line"><span class="keywordtype">int</span> bar(<span class="keywordtype">int</span>);</div>
<div class="line"><span class="comment">// argument binding ...</span></div>
<div class="line">sigc::group(&amp;foo,10,sigc::_1)(20); <span class="comment">//fixes the first argument and calls foo(10,20)</span></div>
<div class="line"><a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;foo, 10, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a2fc0f0362dcbb255851329f836dd994c">std::placeholders::_1</a>)(20); <span class="comment">//C++11</span></div>
<div class="line">sigc::group(&amp;foo,sigc::_1,30)(40); <span class="comment">//fixes the second argument and calls foo(40,30)</span></div>
<div class="line"><a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;foo, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a2fc0f0362dcbb255851329f836dd994c">std::placeholders::_1</a>, 30)(40); <span class="comment">//C++11</span></div>
<div class="line"><span class="comment">// argument reordering ...</span></div>
<div class="line">sigc::group(&amp;foo,sigc::_2,sigc::_1)(1,2); <span class="comment">//calls foo(2,1)</span></div>
<div class="line"><a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;foo, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a55b11ed0d8a2b832618ac7aad73f76b6">std::placeholders::_2</a>, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a2fc0f0362dcbb255851329f836dd994c">std::placeholders::_1</a>)(1,2); <span class="comment">//C++11</span></div>
<div class="line"><span class="comment">// argument hiding ...</span></div>
<div class="line">sigc::group(&amp;foo,sigc::_1,sigc::_2)(1,2,3); <span class="comment">//calls foo(1,2)</span></div>
<div class="line"><a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;foo, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a2fc0f0362dcbb255851329f836dd994c">std::placeholders::_1</a>, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a55b11ed0d8a2b832618ac7aad73f76b6">std::placeholders::_2</a>)(1,2,3); <span class="comment">//C++11</span></div>
<div class="line"><span class="comment">// functor composition ...</span></div>
<div class="line">sigc::group(&amp;foo,sigc::_1,sigc::group(&amp;bar,sigc::_2))(1,2); <span class="comment">//calls foo(1,bar(2))</span></div>
<div class="line"><a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;foo, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a2fc0f0362dcbb255851329f836dd994c">std::placeholders::_1</a>, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind</a>(&amp;bar, <a class="codeRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01618.html#a55b11ed0d8a2b832618ac7aad73f76b6">std::placeholders::_2</a>))(1,2); <span class="comment">//C++11</span></div>
<div class="line"><span class="comment">// algebraic expressions ...</span></div>
<div class="line">sigc::group(&amp;foo,sigc::_1*sigc::_2,sigc::_1/sigc::_2)(6,3); <span class="comment">//calls foo(6*3,6/3)</span></div>
<div class="line">[] (<span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y) { foo(x*y, x/y); }(6,3); <span class="comment">//C++11</span></div>
</div><!-- fragment --></dd></dl>
<p>The functor sigc::group() returns can be passed into <a class="el" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">sigc::signal::connect()</a> directly. A C++11 lambda expression can be passed into <a class="el" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">sigc::signal::connect()</a> directly, if either it returns <code>void</code>, or you use <a class="el" href="group__sigcfunctors.html#gadf1ba3cacb09cc5c3c3e399836ec6e50" title="Helper macro, if you want to mix user-defined and third party functors with libsigc++.">SIGC_FUNCTORS_DEDUCE_RESULT_TYPE_WITH_DECLTYPE</a>.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><a class="code" href="classsigc_1_1signal.html" title="Convenience wrapper for the numbered sigc::signal# templates.">sigc::signal&lt;void,int,int&gt;</a> some_signal;</div>
<div class="line"><span class="keywordtype">void</span> foo(<span class="keywordtype">int</span>);</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>(sigc::group(&amp;foo,sigc::_2));</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>([](<span class="keywordtype">int</span>, <span class="keywordtype">int</span> y) { foo(y); }); <span class="comment">//C++11</span></div>
</div><!-- fragment --></dd></dl>
<p>Like in <a class="el" href="group__bind.html#ga2f099bc6056b32f2a58134ba8537c6f4" title="Creates an adaptor of type sigc::bind_functor which binds the passed argument to the passed functor...">sigc::bind()</a>, you can bind references to functors by passing the objects through the <a class="el" href="namespacesigc.html#a48e982c74c057b5630246ba436524041" title="Creates a reference wrapper.">sigc::ref()</a> helper function.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><span class="keywordtype">int</span> some_int;</div>
<div class="line"><a class="code" href="classsigc_1_1signal.html" title="Convenience wrapper for the numbered sigc::signal# templates.">sigc::signal&lt;void&gt;</a> some_signal;</div>
<div class="line"><span class="keywordtype">void</span> foo(<span class="keywordtype">int</span>&amp;);</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>(sigc::group(&amp;foo,<a class="code" href="namespacesigc.html#a48e982c74c057b5630246ba436524041" title="Creates a reference wrapper.">sigc::ref</a>(some_int)));</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>([&amp;some_int](){ foo(some_int); }); <span class="comment">//C++11</span></div>
</div><!-- fragment --></dd></dl>
<p>If you bind an object of a <a class="el" href="structsigc_1_1trackable.html" title="Base class for objects with auto-disconnection.">sigc::trackable</a> derived type to a functor by reference, a slot assigned to the group adaptor is cleared automatically when the object goes out of scope.</p>
<dl class="section user"><dt>Example:</dt><dd><div class="fragment"><div class="line"><span class="keyword">struct </span>bar : <span class="keyword">public</span> <a class="code" href="structsigc_1_1trackable.html" title="Base class for objects with auto-disconnection.">sigc::trackable</a> {} some_bar;</div>
<div class="line"><a class="code" href="classsigc_1_1signal.html" title="Convenience wrapper for the numbered sigc::signal# templates.">sigc::signal&lt;void&gt;</a> some_signal;</div>
<div class="line"><span class="keywordtype">void</span> foo(bar&amp;);</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>(sigc::group(&amp;foo,<a class="code" href="namespacesigc.html#a48e982c74c057b5630246ba436524041" title="Creates a reference wrapper.">sigc::ref</a>(some_bar)));</div>
<div class="line"> <span class="comment">// disconnected automatically if some_bar goes out of scope</span></div>
</div><!-- fragment --></dd></dl>
<p><a class="elRef" doxygen="libstdc++.tag:http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/" href="http://gcc.gnu.org/onlinedocs/libstdc++/latest-doxygen/a01673.html#ga4c3052b337dde285bace96cbb996055c">std::bind()</a> and C++11 lambda expressions fail here. If you store a reference to a <a class="el" href="structsigc_1_1trackable.html" title="Base class for objects with auto-disconnection.">sigc::trackable</a> derived object in a C++11 lambda expression, and assign this expression to a slot or signal, it will not be disconnected automatically when the object goes out of scope. The previous example can still be rewritten without sigc::group(). </p>
<div class="fragment"><div class="line"><span class="keyword">struct </span>bar : <span class="keyword">public</span> <a class="code" href="structsigc_1_1trackable.html" title="Base class for objects with auto-disconnection.">sigc::trackable</a> {} some_bar;</div>
<div class="line"><a class="code" href="classsigc_1_1signal.html" title="Convenience wrapper for the numbered sigc::signal# templates.">sigc::signal&lt;void&gt;</a> some_signal;</div>
<div class="line"><span class="keywordtype">void</span> foo(bar&amp;);</div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>(<a class="code" href="group__bind.html#ga2f099bc6056b32f2a58134ba8537c6f4" title="Creates an adaptor of type sigc::bind_functor which binds the passed argument to the passed functor...">sigc::bind</a>(&amp;foo, <a class="code" href="namespacesigc.html#a48e982c74c057b5630246ba436524041" title="Creates a reference wrapper.">sigc::ref</a>(some_bar)));</div>
<div class="line"> <span class="comment">// disconnected automatically if some_bar goes out of scope</span></div>
<div class="line">some_signal.<a class="code" href="classsigc_1_1signal7.html#adc55ac9b0f935fd87a67904022e03cb2" title="Add a slot to the list of slots.">connect</a>([&amp;some_bar](){ foo(some_bar); }); <span class="comment">//C++11</span></div>
<div class="line"> <span class="comment">// NOT disconnected automatically if some_bar goes out of scope</span></div>
</div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 18 2012 09:28:24 for libsigc++ by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
